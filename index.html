<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MBS Intake Demo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Maximum Building Services</h1>
    <p>Saving Structures. Saving Lives.</p>
  </header>

  <main>
    <form id="buildingForm">
      <h2>Society Details</h2>
      <label>Society Name <input id="socName" required /></label>
      <label>Location <input id="location" /></label>
      <label>Year of OC <input id="ocYear" type="number" /></label>
      <label>Floors <input id="floors" type="number" /></label>

      <h2>Upload Photos</h2>
      <input id="media" type="file" multiple />

      <button type="submit">Save</button>
    </form>

    <aside id="copilot">
      <h3>AI Copilot</h3>
      <p id="leadScore">Lead Score: –</p>
      <p id="aiNotes">AI Notes will appear here…</p>
      <ul id="events"></ul>
    </aside>
<button id="btnHealth" style="margin-top:10px;">Supabase Health Check</button>
<pre id="healthOut" style="white-space:pre-wrap;background:#0b1320;border:1px solid #23344d;padding:12px;border-radius:6px;margin-top:8px;"></pre>

    <!-- List block -->
    <section id="list" style="flex:1;background:#1a2235;padding:1rem;border-radius:8px;">
      <h3>Societies</h3>
      <ul id="socList" style="list-style:none;padding-left:0;margin:0;"></ul>
    </section>
  </main>

  <footer>
    <small>© 2025 MBS – Demo site</small>
  </footer>


  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script src="app.js"></script>
<!-- Supabase CDN must come BEFORE app.js -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>

<!-- Load your JS with a cache-buster so you really get the latest version -->
<script src="app.js?v=3"></script>

<!-- Tiny inline test to prove JS runs at all -->
<script>
  // If you see this alert once after reload, JS is executing on the page
  // Comment it out after first test if you want
  // alert("JS loaded (inline test). If you see this, scripts are running.");
</script>
</body>
</html>
